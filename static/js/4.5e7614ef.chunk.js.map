{"version":3,"sources":["hoc/WithAuthRedirect.tsx","components/Users/Users.module.css","components/Common/Pagination/Pagination.tsx","components/Users/Users.tsx","assets/images/user-avatar.png","outside/users-selector.ts","components/Users/UsersContainer.tsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","connect","fake","props","restProps","to","module","exports","useStyles","makeStyles","nav","display","justifyContent","marginBottom","ul","listStyle","padding","margin","color","Pagination","classes","items","usePagination","count","totalCount","className","map","index","page","type","selected","item","children","style","fontWeight","undefined","fontSize","marginRight","onClick","e","onPageChanged","Users","pagesCount","Math","ceil","totalUsersCount","pageSize","users","u","styles","userItem","id","userPhoto","src","photos","small","alt","userItemProfileInfo","userItemName","name","userItemLocation","userItemStatus","followBtn","followed","disabled","followingInProgress","some","unfollow","backgroundColor","fontFamily","cursor","boxShadow","borderRadius","follow","touchAction","zoom","getUsers","createSelector","usersPage","filter","getPageSize","getTotalUsersCount","getCurrentPage","currentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","pageNumber","this","Downloader","React","compose","console","log","getUsersThunkCreator","followThunkCreator","unfollowThunkCreator","setCurrentPage","setTotalUsersCount","toggleIsFollowingProgress"],"mappings":"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","file":"static/js/4.5e7614ef.chunk.js","sourcesContent":["import React, {ComponentType} from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { AppStateType } from \"../outside/redux-store\";\n\ntype MapStateToPropsType = {\n        isAuth: boolean\n}\n\ntype DispatchPropsType = {\n    fake: () => void\n}\n\nlet mapStateToPropsForRedirect = (state: AppStateType) => ({\n    isAuth: state.auth.isAuth\n})\n\nexport function withAuthRedirect<P>(Component: React.ComponentType<P>) {\n    const RedirectComponent: React.FC<MapStateToPropsType & DispatchPropsType> = (props) => {\n        let { isAuth, fake, ...restProps } = props\n        if (!isAuth) return <Redirect to={'/login'} />\n\n        return <Component {...restProps as P} />\n    }\n    let ConnectedAuthRedirectComponent = connect<MapStateToPropsType, DispatchPropsType, P, AppStateType>(mapStateToPropsForRedirect, {fake: () => {}})(RedirectComponent)\n    return ConnectedAuthRedirectComponent\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__3Yuu2\",\"selectedPage\":\"Users_selectedPage__vouMp\",\"userItemProfileInfo\":\"Users_userItemProfileInfo__3Hynt\"};","import React from 'react';\nimport { usePagination } from '@material-ui/lab/Pagination';\nimport { makeStyles } from '@material-ui/core/styles';\n\ntype PaginationPropsType = {\n    totalCount: number\n    onPageChanged: (pageNumber: number) => void\n}\n\nconst useStyles = makeStyles({\n    nav: {\n        display: 'flex',\n        justifyContent: 'center',\n        marginBottom: '13px'\n    },\n    ul: {\n        listStyle: 'none',\n        padding: 0,\n        margin: 0,\n        display: 'flex',\n        color: 'white'\n    },\n});\n\nexport default function Pagination(props: PaginationPropsType) {\n    const classes = useStyles();\n    const { items } = usePagination({\n        count: props.totalCount,\n    });\n\n    return (\n        <nav className={classes.nav}>\n            <ul className={classes.ul}>\n                {items.map(({ page, type, selected, ...item }, index) => {\n                    let children = null;\n                    if (type === 'start-ellipsis' || type === 'end-ellipsis') {\n                        children = 'â€¦';\n                    } else if (type === 'page') {\n                        children = (\n                            <button type=\"button\" style={{ fontWeight: selected ? 'bold' : undefined, fontSize: '20px', marginRight: '7px' }} {...item} >\n                                {page}\n                            </button>\n                        );\n                    } else {\n                        children = (\n                            <button type=\"button\" style={{ fontSize: '20px', marginRight: '7px' }} {...item} >\n                                {type}\n                            </button>\n                        );\n                    }\n\n                    return <li key={index} onClick={(e) => {props.onPageChanged(page)}}>{children}</li>;\n                })}\n            </ul>\n        </nav>\n    );\n}","import React from \"react\";\nimport userPhoto from \"../../assets/images/user-avatar.png\"\nimport styles from \"./Users.module.css\";\nimport {NavLink} from \"react-router-dom\";\nimport {UserType} from \"../../outside/users-reducer\";\nimport Pagination from \"../Common/Pagination/Pagination\";\n\ntype UsersPropsType = {\n    users: Array<UserType>\n    pageSize: number\n    totalUsersCount: number\n    followingInProgress: Array<number>\n    follow: (userID: number) => void\n    unfollow: (userID: number) => void\n    onPageChanged: (pageNumber: number) => void\n}\n\nconst Users = (props: UsersPropsType) => {\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\n\n    return <div>\n        {\n            props.users.map(u => <div key={u.id} className={styles.userItem}>\n                <div>\n                    <NavLink to={\"/profile/\" + u.id}>\n                        <img\n                            className={styles.userPhoto}\n                            src={u.photos.small !== null ? u.photos.small : userPhoto}\n                            alt=\"friend\"/>\n                    </NavLink>\n                </div>\n                <div className={styles.userItemProfileInfo}>\n                    <div className={styles.userItemName}>{u.name}</div>\n                    <div className={styles.userItemLocation}>{\"props.location\"}</div>\n                    <div className={styles.userItemStatus}>{\"props.status\"}</div>\n                </div>\n                <div className={styles.followBtn}>\n                    {u.followed\n                        ? <button\n                            disabled={props.followingInProgress.some(id => id === u.id)}\n                            onClick={() => {\n                                props.unfollow(u.id)\n                            }}\n                            style={{\n                                backgroundColor: \"gray\",\n                                fontFamily: \"Monserrat\",\n                                fontSize: \"20px\",\n                                cursor: \"pointer\",\n                                boxShadow: \"inset 0 20px 20px #ffffff\",\n                                borderRadius: \"8px\"\n                            }}>Unfollow</button>\n                        : <button\n                            disabled={props.followingInProgress.some(id => id === u.id)}\n                            onClick={() => {\n                                props.follow(u.id)\n                            }}\n                            style={{\n                                backgroundColor: \"#f6f6f6\",\n                                fontFamily: \"Monserrat\",\n                                fontSize: \"20px\",\n                                boxShadow: \"inset 0 20px 20px #ffffff\",\n                                borderRadius: \"8px\",\n                                touchAction: \"0 -20px 20px #ffffff\",\n                                zoom: \"1\",\n                                cursor: \"pointer\"\n                            }\n                            }>Follow</button>\n                    }\n                </div>\n            </div>)\n        }\n        <div>\n            <Pagination totalCount={pagesCount} onPageChanged={props.onPageChanged}/>\n        </div>\n    </div>\n}\n\nexport default Users","export default \"data:image/png;base64,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\"","import { AppStateType } from \"./redux-store\"\nimport { createSelector } from 'reselect'\nimport { UserType } from \"./users-reducer\"\n\nconst getUsersSelector = (state: AppStateType) => {\n    return state.usersPage.users\n}\n\nexport const getUsers = createSelector(getUsersSelector,\n    (users: Array<UserType>) => {\n        return users.filter(u => true)\n    })\n\nexport const getPageSize = (state: AppStateType) => {\n    return state.usersPage.pageSize\n}\n\nexport const getTotalUsersCount = (state: AppStateType) => {\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = (state: AppStateType) => {\n    return state.usersPage.currentPage\n}\n\nexport const getIsFetching = (state: AppStateType) => {\n    return state.usersPage.isFetching\n}\n\nexport const getFollowingInProgress = (state: AppStateType) => {\n    return state.usersPage.followingInProgress\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport Users from './Users';\nimport { compose } from 'redux';\nimport { withAuthRedirect } from '../../hoc/WithAuthRedirect';\nimport {\n    followThunkCreator,\n    getUsersThunkCreator, setCurrentPage, setTotalUsersCount,\n    toggleIsFollowingProgress,\n    unfollowThunkCreator,\n    UserType\n} from \"../../outside/users-reducer\";\nimport Downloader from \"../Common/Preloader/Downloader\";\nimport {AppStateType} from \"../../outside/redux-store\";\nimport {\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount,\n    getUsers\n} from \"../../outside/users-selector\";\n\n\ntype MapStateToPropsType = {\n    users: Array<UserType>\n    pageSize: number\n    totalUsersCount: number\n    currentPage: number\n    isFetching: boolean\n    followingInProgress: Array<number>\n}\n\ntype MapDispatchToPropsType = {\n    follow: (userId: number) => void\n    unfollow: (userId: number) => void\n    setCurrentPage: (currentPage: number) => void\n    setTotalUsersCount: (totalUsers: number) => void\n    toggleIsFollowingProgress: (isFetching: boolean, userId: number) => void\n    getUsers: (currentPage: number, pageSize: number) => void\n}\n\ntype UsersContainerPropsType = MapStateToPropsType & MapDispatchToPropsType\n\nclass UsersContainer extends React.Component<UsersContainerPropsType> {\n\n    componentDidMount() {\n        const {currentPage,pageSize } = this.props\n        this.props.getUsers(currentPage, pageSize)\n    }\n\n    onPageChanged = (pageNumber: number) => {\n        const {pageSize} = this.props\n        this.props.getUsers(pageNumber, pageSize)\n    }\n\n    render() {\n        return <>\n            {this.props.isFetching ? <Downloader /> : null}\n            <Users\n                users={this.props.users}\n                pageSize={this.props.pageSize}\n                totalUsersCount={this.props.totalUsersCount}\n                followingInProgress={this.props.followingInProgress}\n                follow={this.props.follow}\n                unfollow={this.props.unfollow}\n                onPageChanged={this.onPageChanged} />\n        </>\n    }\n}\n\nlet mapStateToProps = (state: AppStateType) => {\n    console.log('mapStateToProps USERS')\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount:  getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n}\n\nexport default compose<React.ComponentType>(\n    withAuthRedirect,\n    connect(mapStateToProps, {\n        getUsers: getUsersThunkCreator,\n        follow: followThunkCreator,\n        unfollow: unfollowThunkCreator,\n        setCurrentPage, setTotalUsersCount, toggleIsFollowingProgress\n    })\n)(UsersContainer)"],"sourceRoot":""}